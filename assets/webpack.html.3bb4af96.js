import{_ as c,o as i,c as r,d as n,a,w as p,e as s,b as o,r as l}from"./app.a6f56f7f.js";const u={},d=n("h1",{id:"\u9879\u76EE\u6784\u5EFA\u6253\u5305\u4F18\u5316",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u9879\u76EE\u6784\u5EFA\u6253\u5305\u4F18\u5316","aria-hidden":"true"},"#"),s(" \u9879\u76EE\u6784\u5EFA\u6253\u5305\u4F18\u5316")],-1),k=n("p",null,"\u76EE\u5F55",-1),v={class:"table-of-contents"},m=s("\u6784\u5EFA\u65F6\u95F4\u4F18\u5316"),b=s("thread-loader"),g=s("cache-loader"),h=s("exclude & include"),y=s("\u6784\u5EFA\u533A\u5206\u73AF\u5883"),f=s("\u6253\u5305\u4F18\u5316"),_=s("CSS \u4EE3\u7801\u538B\u7F29"),w=s("\u591A\u7EBF\u7A0B\u538B\u7F29js: terser-webpack-plugin"),x=s("\u5206\u5272\u4EE3\u7801: splitChunks"),j=s("DllPlugin"),q=s("cdn\u52A0\u901F"),P=s("console \u5220\u9664"),z=s("\u56FE\u7247\u538B\u7F29"),C=s("\u7F16\u8BD1\u4F18\u5316"),D=s("vue cli3 webpack \u9ED8\u8BA4\u914D\u7F6E"),S=s("sourcemap \u6539\u52A8"),E=s("\u53EF\u7528 smp \u5148\u5BF9 plugin \u8DDF loader \u8FDB\u884C\u5206\u6790"),N=s("hard-source-webpack-plugin \u4E2D\u95F4\u7F13\u5B58"),I=s("\u7528\u6237\u4F53\u9A8C\u4F18\u5316"),R=s("\u6A21\u5757\u61D2\u52A0\u8F7D"),W=s("gzip \u6253\u5305: compression-webpack-plugin"),M=o(`<h2 id="\u6784\u5EFA\u65F6\u95F4\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u6784\u5EFA\u65F6\u95F4\u4F18\u5316" aria-hidden="true">#</a> \u6784\u5EFA\u65F6\u95F4\u4F18\u5316</h2><h3 id="thread-loader" tabindex="-1"><a class="header-anchor" href="#thread-loader" aria-hidden="true">#</a> thread-loader</h3><blockquote><p>\u591A\u8FDB\u7A0B\u6253\u5305\uFF0C\u53EF\u4EE5\u5927\u5927\u63D0\u9AD8\u6784\u5EFA\u7684\u901F\u5EA6\uFF0C\u4F7F\u7528\u65B9\u6CD5\u662F\u5C06 <code>thread-loader</code> \u653E\u5728\u6BD4\u8F83\u8D39\u65F6\u95F4\u7684 <code>loader</code> \u4E4B\u524D\uFF0C\u6BD4\u5982 <code>babel-loader</code></p></blockquote><h3 id="cache-loader" tabindex="-1"><a class="header-anchor" href="#cache-loader" aria-hidden="true">#</a> cache-loader</h3><blockquote><p>\u591A\u8FDB\u7A0B\u6253\u5305\uFF0C\u53EF\u4EE5\u5927\u5927\u63D0\u9AD8\u6784\u5EFA\u7684\u901F\u5EA6\uFF0C\u4F7F\u7528\u65B9\u6CD5\u662F\u5C06 <code>cache-loader</code> \u653E\u5728\u6BD4\u8F83\u8D39\u65F6\u95F4\u7684 <code>loader</code> \u4E4B\u524D\uFF0C\u6BD4\u5982 <code>babel-loader</code></p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u4E0B\u8F7D\u4F9D\u8D56</span>
<span class="token function">yarn</span> <span class="token function">add</span> thread-loader cache-loader -D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7531\u4E8E\u542F\u52A8\u9879\u76EE\u548C\u6253\u5305\u9879\u76EE\u90FD\u9700\u8981\u52A0\u901F\uFF0C\u6240\u4EE5\u914D\u7F6E\u5728 webpack.base.js</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&#39;cache-loader&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;thread-loader&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;babel-loader&#39;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="exclude-include" tabindex="-1"><a class="header-anchor" href="#exclude-include" aria-hidden="true">#</a> exclude &amp; include</h3><ul><li>exclude\uFF1A\u4E0D\u9700\u8981\u5904\u7406\u7684\u6587\u4EF6</li><li>include\uFF1A\u9700\u8981\u5904\u7406\u7684\u6587\u4EF6</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// webpack.base.js</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">include</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&#39;cache-loader&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;thread-loader&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;babel-loader&#39;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6784\u5EFA\u533A\u5206\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#\u6784\u5EFA\u533A\u5206\u73AF\u5883" aria-hidden="true">#</a> \u6784\u5EFA\u533A\u5206\u73AF\u5883</h3><ul><li>\u5F00\u53D1\u73AF\u5883\uFF1A\u53BB\u9664\u4EE3\u7801\u538B\u7F29\u3001gzip\u3001\u4F53\u79EF\u5206\u6790\u7B49\u4F18\u5316\u7684\u914D\u7F6E\uFF0C\u5927\u5927\u63D0\u9AD8\u6784\u5EFA\u901F\u5EA6</li><li>\u751F\u4EA7\u73AF\u5883\uFF1A\u9700\u8981\u4EE3\u7801\u538B\u7F29\u3001gzip\u3001\u4F53\u79EF\u5206\u6790\u7B49\u4F18\u5316\u7684\u914D\u7F6E\uFF0C\u5927\u5927\u964D\u4F4E\u6700\u7EC8\u9879\u76EE\u6253\u5305\u4F53\u79EF</li></ul><h2 id="\u6253\u5305\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u6253\u5305\u4F18\u5316" aria-hidden="true">#</a> \u6253\u5305\u4F18\u5316</h2><h3 id="css-\u4EE3\u7801\u538B\u7F29" tabindex="-1"><a class="header-anchor" href="#css-\u4EE3\u7801\u538B\u7F29" aria-hidden="true">#</a> CSS \u4EE3\u7801\u538B\u7F29</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> css-minimizer-webpack-plugin -D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// webpack.prod.js</span>
<span class="token keyword">const</span> CssMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;css-minimizer-webpack-plugin&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// \u53BB\u91CD\u538B\u7F29css</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u591A\u7EBF\u7A0B\u538B\u7F29js-terser-webpack-plugin" tabindex="-1"><a class="header-anchor" href="#\u591A\u7EBF\u7A0B\u538B\u7F29js-terser-webpack-plugin" aria-hidden="true">#</a> \u591A\u7EBF\u7A0B\u538B\u7F29js: terser-webpack-plugin</h3><blockquote><p>\u7528\u6CD5\uFF1A<code>https://www.npmjs.com/package/terser-webpack-plugin</code></p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> terser-webpack-plugin -D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// webpack.prod.js</span>
<span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;terser-webpack-plugin&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// \u53BB\u91CD\u538B\u7F29css</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">// \u538B\u7F29JS\u4EE3\u7801</span>
        <span class="token literal-property property">terserOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">drop_console</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// \u53BB\u9664console</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// \u538B\u7F29JavaScript</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5206\u5272\u4EE3\u7801-splitchunks" tabindex="-1"><a class="header-anchor" href="#\u5206\u5272\u4EE3\u7801-splitchunks" aria-hidden="true">#</a> \u5206\u5272\u4EE3\u7801: splitChunks</h3><blockquote><p>\u9ED8\u8BA4\u914D\u7F6E\uFF1A <code>https://webpack.docschina.org/pluginssplit-chunks-plugin/</code></p></blockquote><ul><li>chunks: \u8868\u793A\u54EA\u4E9B\u4EE3\u7801\u9700\u8981\u4F18\u5316\uFF0C\u6709\u4E09\u4E2A\u53EF\u9009\u503C\uFF1Ainitial(\u521D\u59CB\u5757)\u3001async(\u6309\u9700\u52A0\u8F7D\u5757)\u3001all(\u5168\u90E8\u5757)\uFF0C\u9ED8\u8BA4\u4E3Aasync</li><li>minSize: \u8868\u793A\u5728\u538B\u7F29\u524D\u7684\u6700\u5C0F\u6A21\u5757\u5927\u5C0F\uFF0C\u9ED8\u8BA4\u4E3A30000</li><li>minChunks: \u8868\u793A\u88AB\u5F15\u7528\u6B21\u6570\uFF0C\u9ED8\u8BA4\u4E3A1</li><li>maxAsyncRequests: \u6309\u9700\u52A0\u8F7D\u65F6\u5019\u6700\u5927\u7684\u5E76\u884C\u8BF7\u6C42\u6570\uFF0C\u9ED8\u8BA4\u4E3A5</li><li>maxInitialRequests: \u4E00\u4E2A\u5165\u53E3\u6700\u5927\u7684\u5E76\u884C\u8BF7\u6C42\u6570\uFF0C\u9ED8\u8BA4\u4E3A3</li><li>automaticNameDelimiter: \u547D\u540D\u8FDE\u63A5\u7B26</li><li>name: \u62C6\u5206\u51FA\u6765\u5757\u7684\u540D\u5B57\uFF0C\u9ED8\u8BA4\u7531\u5757\u540D\u548Chash\u503C\u81EA\u52A8\u751F\u6210</li><li>cacheGroups: \u7F13\u5B58\u7EC4\u3002\u7F13\u5B58\u7EC4\u7684\u5C5E\u6027\u9664\u4E0A\u9762\u6240\u6709\u5C5E\u6027\u5916\uFF0C\u8FD8\u6709test, priority, reuseExistingChunk <ul><li>test: \u7528\u4E8E\u63A7\u5236\u54EA\u4E9B\u6A21\u5757\u88AB\u8FD9\u4E2A\u7F13\u5B58\u7EC4\u5339\u914D\u5230</li><li>priority: \u7F13\u5B58\u7EC4\u6253\u5305\u7684\u5148\u540E\u4F18\u5148\u7EA7</li><li>reuseExistingChunk: \u5982\u679C\u5F53\u524D\u4EE3\u7801\u5757\u5305\u542B\u7684\u6A21\u5757\u5DF2\u7ECF\u6709\u4E86\uFF0C\u5C31\u4E0D\u5728\u4EA7\u751F\u4E00\u4E2A\u65B0\u7684\u4EE3\u7801\u5757</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>config<span class="token punctuation">.</span>optimization <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">runtimeChunk</span><span class="token operator">:</span> <span class="token string">&#39;single&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&#39;all&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u8868\u793A\u54EA\u4E9B\u4EE3\u7801\u9700\u8981\u4F18\u5316\uFF0C\u6709\u4E09\u4E2A\u53EF\u9009\u503C\uFF1Ainitial(\u521D\u59CB\u5757)\u3001async(\u6309\u9700\u52A0\u8F7D\u5757)\u3001all(\u5168\u90E8\u5757)\uFF0C\u9ED8\u8BA4\u4E3Aasync</span>
    <span class="token literal-property property">maxInitialRequests</span><span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span> <span class="token comment">// \u6309\u9700\u52A0\u8F7D\u65F6\u5019\u6700\u5927\u7684\u5E76\u884C\u8BF7\u6C42\u6570\uFF0C\u9ED8\u8BA4\u4E3A5</span>
    <span class="token literal-property property">minSize</span><span class="token operator">:</span> <span class="token number">30000</span><span class="token punctuation">,</span> <span class="token comment">// \u4F9D\u8D56\u5305\u8D85\u8FC730000bit\u5C06\u88AB\u5355\u72EC\u6253\u5305</span>
    <span class="token literal-property property">automaticNameDelimiter</span><span class="token operator">:</span> <span class="token string">&#39;-&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u547D\u540D\u8FDE\u63A5\u7B26</span>
    <span class="token comment">// \u7F13\u5B58\u7EC4</span>
    <span class="token comment">// priority: \u7F13\u5B58\u7EC4\u6253\u5305\u7684\u5148\u540E\u4F18\u5148\u7EA7</span>
    <span class="token comment">// minChunks: \u8868\u793A\u88AB\u5F15\u7528\u6B21\u6570\uFF0C\u9ED8\u8BA4\u4E3A1</span>
    <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">libs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;chunk-libs&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\\\/]node_modules[\\\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&#39;initial&#39;</span> <span class="token comment">// only package third parties that are initially dependent</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">elementUI</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;chunk-elementUI&#39;</span><span class="token punctuation">,</span> <span class="token comment">// split elementUI into a single package</span>
        <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">// the weight needs to be larger than libs and app or it will be packaged into libs or app</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\\\/]node_modules[\\\\/]_?element-ui(.*)</span><span class="token regex-delimiter">/</span></span> <span class="token comment">// in order to adapt to cnpm</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">commons</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;chunk-commons&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src/components&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// can customize your rules</span>
        <span class="token literal-property property">minChunks</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">//  minimum common number</span>
        <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token literal-property property">reuseExistingChunk</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="dllplugin" tabindex="-1"><a class="header-anchor" href="#dllplugin" aria-hidden="true">#</a> <strong>DllPlugin</strong></h3><blockquote><p>\u8FD9\u4E2A\u63D2\u4EF6\u662F\u5728\u4E00\u4E2A\u989D\u5916\u7684\u72EC\u7ACB\u7684 webpack \u8BBE\u7F6E\u4E2D\u521B\u5EFA\u4E00\u4E2A\u53EA\u6709 dll \u7684 bundle(dll-only-bundle)\u3002 \u8FD9\u4E2A\u63D2\u4EF6\u4F1A\u751F\u6210\u4E00\u4E2A\u540D\u4E3A manifest.json \u7684\u6587\u4EF6\uFF0C\u8FD9\u4E2A\u6587\u4EF6\u662F\u7528\u6765\u8BA9 DLLReferencePlugin \u6620\u5C04\u5230\u76F8\u5173\u7684\u4F9D\u8D56\u4E0A\u53BB\u7684\u3002</p><p>\u53EF\u4EE5\u7B80\u5355\u7406\u89E3\u4E3A\u628A\u4E00\u4E9B\u4F9D\u8D56\u4ECE\u9879\u76EE\u7684bundle\u4E2D\u62C6\u5206\u51FA\u53BB\uFF0C\u901A\u8FC7\u6620\u5C04\u5173\u7CFB\u7528\u8BF7\u6C42\u6765\u52A0\u8F7D\u3002</p></blockquote><p>\u914D\u7F6EDllPlugin,\u53EF\u4EE5\u5206\u4E3A\u4E0B\u9762\u51E0\u4E2A\u6B65\u9AA4\uFF1A</p><ol><li>\u65B0\u5EFAwebpack.dll.config.js\u6587\u4EF6(\u5176\u4ED6\u547D\u540D\u90FD\u53EF\u4EE5)\uFF0C\u914D\u7F6E\u9700\u8981\u62C6\u5206\u7684\u63D2\u4EF6\uFF1B</li><li>\u5728package.json\u6587\u4EF6\u4E2D\u65B0\u5EFA\u4E00\u6761\u547D\u4EE4\u6765\u4E13\u95E8\u6253\u5305\uFF0C<code>&quot;build:dll&quot;:&quot;webpack --config webpack.dll.config.js&quot;</code>; \u8FD0\u884C\u8BE5\u547D\u4EE4\uFF1B</li><li>\u5728vue.config.js \u6587\u4EF6\u4E2D\u914D\u7F6E<code>DllReferencePlugin</code>,\u4E3B\u8981\u628Adll\u5F15\u7528\u5230\u9700\u8981\u9884\u7F16\u8BD1\u7684\u4F9D\u8D56\uFF1B</li><li>\u5728index.html\u624B\u52A8\u5F15\u5165\u62C6\u5206\u7684bundle\u5305</li></ol><p>\u5B89\u88C5\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> webpack-cli@^3.2.3 add-asset-html-webpack-plugin@^3.1.3 clean-webpack-plugin@^1.0.1 --dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u914D\u7F6E\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// webpack.dll.config.js</span>

<span class="token comment">/* eslint-disable @typescript-eslint/no-var-requires */</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CleanWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;clean-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// dll\u6587\u4EF6\u5B58\u653E\u7684\u76EE\u5F55</span>
<span class="token keyword">const</span> dllPath <span class="token operator">=</span> <span class="token string">&#39;public/vendor&#39;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u9700\u8981\u63D0\u53D6\u7684\u5E93\u6587\u4EF6</span>
    <span class="token literal-property property">vendor</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;vue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;vue-router&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;vuex&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;element-ui&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">utils</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;axios&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;lodash&#39;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> dllPath<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].dll.js&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// vendor.dll.js\u4E2D\u66B4\u9732\u51FA\u7684\u5168\u5C40\u53D8\u91CF\u540D</span>
    <span class="token comment">// \u4FDD\u6301\u4E0E webpack.DllPlugin \u4E2D\u540D\u79F0\u4E00\u81F4</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">&#39;[name]_[hash]&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// \u6E05\u9664\u4E4B\u524D\u7684dll\u6587\u4EF6</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;*.*&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">root</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> dllPath<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// &quot;clean-webpack-plugin&quot;: &quot;^3.0.0&quot;</span>
    <span class="token comment">// new CleanWebpackPlugin(),</span>
    <span class="token comment">// \u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string-property property">&#39;p<wbr>rocess.env&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token constant">NODE_ENV</span><span class="token operator">:</span> <span class="token string">&#39;production&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// manifest.json \u63CF\u8FF0\u52A8\u6001\u94FE\u63A5\u5E93\u5305\u542B\u4E86\u54EA\u4E9B\u5185\u5BB9</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> dllPath<span class="token punctuation">,</span> <span class="token string">&#39;[name]-manifest.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">// \u4FDD\u6301\u4E0E output.library \u4E2D\u540D\u79F0\u4E00\u81F4</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;[name]_[hash]&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">context</span><span class="token operator">:</span> process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token number">12</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728 <code>vue.config.js plugin</code> \u4E2D\u4F7F\u7528</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">context</span><span class="token operator">:</span> process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">manifest</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./public/vendor/vendor-manifest.json&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">context</span><span class="token operator">:</span> process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">manifest</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./public/vendor/utils-manifest.json&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// \u5C06 dll \u6CE8\u5165\u5230 \u751F\u6210\u7684 html \u6A21\u677F\u4E2D</span>
  <span class="token keyword">new</span> <span class="token class-name">AddAssetHtmlPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// dll\u6587\u4EF6\u4F4D\u7F6E</span>
  <span class="token literal-property property">filepath</span><span class="token operator">:</span> <span class="token function">getPath</span><span class="token punctuation">(</span><span class="token string">&#39;./public/vendor/*.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// dll \u5F15\u7528\u8DEF\u5F84</span>
  <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;./vendor&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// dll\u6700\u7EC8\u8F93\u51FA\u7684\u76EE\u5F55</span>
  <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&#39;./vendor&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cdn\u52A0\u901F" tabindex="-1"><a class="header-anchor" href="#cdn\u52A0\u901F" aria-hidden="true">#</a> cdn\u52A0\u901F</h3>`,35),T=n("p",null,"externals \u914D\u7F6E\u9009\u9879\u63D0\u4F9B\u4E86\u300C\u4ECE\u8F93\u51FA\u7684 bundle \u4E2D\u6392\u9664\u4F9D\u8D56\u300D\u7684\u65B9\u6CD5\u3002\u9632\u6B62\u5C06\u67D0\u4E9B import \u7684\u5305(package)\u6253\u5305\u5230 bundle \u4E2D\uFF0C\u800C\u662F\u5728\u8FD0\u884C\u65F6(runtime)\u518D\u53BB\u4ECE\u5916\u90E8\u83B7\u53D6\u8FD9\u4E9B\u6269\u5C55\u4F9D\u8D56(external dependencies)\u3002",-1),V=s("\u8FD9\u4E2A\u5C5E\u6027\u5F88\u597D\u7406\u89E3\uFF0C\u800C\u4E14\u4F7F\u7528\u8D77\u6765\u4E5F\u975E\u5E38\u65B9\u4FBF\uFF0C\u975E\u5E38\u7684nice! \u6700\u7B80\u5355\u7684\u65B9\u6CD5\u662F\u914D\u7F6E\u540D\u79F0\uFF0C\u5F53\u7136\u4F60\u4E5F\u53EF\u4EE5\u7F16\u5199\u4E00\u4E9B\u590D\u6742\u7684\u914D\u7F6E"),L={href:"https://www.webpackjs.com/configuration/externals/",target:"_blank",rel:"noopener noreferrer"},O=s("\u5B98\u65B9\u6587\u6863"),A=o(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//vue.config.js</span>
<span class="token operator">...</span>
<span class="token literal-property property">configureWebpack</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Vue&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;element-ui&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ELEMENT&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u7136\u540E\u5728 index.html \u624B\u52A8cdn\u5F15\u5165(\u6216\u8005\u7528\u63D2\u4EF6\u81EA\u52A8\u6DFB\u52A0)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="console-\u5220\u9664" tabindex="-1"><a class="header-anchor" href="#console-\u5220\u9664" aria-hidden="true">#</a> console \u5220\u9664</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;terser-webpack-plugin&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">configureWebpack</span><span class="token operator">:</span> <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    config
      <span class="token punctuation">.</span>optimization <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">terserOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">drop_console</span><span class="token operator">:</span> <span class="token boolean">true</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u56FE\u7247\u538B\u7F29" tabindex="-1"><a class="header-anchor" href="#\u56FE\u7247\u538B\u7F29" aria-hidden="true">#</a> \u56FE\u7247\u538B\u7F29</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>config<span class="token punctuation">.</span>module
  <span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">&#39;images&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(png|jpe?g|gif|svg)(\\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#39;image-webpack-loader&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">&#39;image-webpack-loader&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">bypassOnDebug</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u7F16\u8BD1\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u7F16\u8BD1\u4F18\u5316" aria-hidden="true">#</a> \u7F16\u8BD1\u4F18\u5316</h2><h3 id="vue-cli3-webpack-\u9ED8\u8BA4\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#vue-cli3-webpack-\u9ED8\u8BA4\u914D\u7F6E" aria-hidden="true">#</a> vue cli3 webpack \u9ED8\u8BA4\u914D\u7F6E</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>vue inspect
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="sourcemap-\u6539\u52A8" tabindex="-1"><a class="header-anchor" href="#sourcemap-\u6539\u52A8" aria-hidden="true">#</a> sourcemap \u6539\u52A8</h3>`,9),B=s("\u5BF9\u4E8E\u6253\u5305\u540E\u7684 "),H=n("code",null,"sourceMap",-1),U=s("\uFF0C"),$={href:"https://webpack.docschina.org/configuration/devtool/#devtool",target:"_blank",rel:"noopener noreferrer"},G=s("webpack\u63D0\u4F9B\u591A\u79CD\u7C7B\u578B\u7684\u914D\u7F6E"),J=n("p",null,[n("code",null,"eval-cheap-source-map"),s(" \u5728\u4FDD\u6709\u62A5\u9519\u5173\u952E\u4FE1\u606F\u7684\u540C\u65F6\uFF0C\u5728\u6784\u5EFA\u4EE5\u53CA\u91CD\u65B0\u6784\u5EFA\u4E2D\u901F\u5EA6\u4F1A\u66F4\u5FEB")],-1),F=n("h3",{id:"\u53EF\u7528-smp-\u5148\u5BF9-plugin-\u8DDF-loader-\u8FDB\u884C\u5206\u6790",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u53EF\u7528-smp-\u5148\u5BF9-plugin-\u8DDF-loader-\u8FDB\u884C\u5206\u6790","aria-hidden":"true"},"#"),s(" \u53EF\u7528 smp \u5148\u5BF9 plugin \u8DDF loader \u8FDB\u884C\u5206\u6790")],-1),K={href:"https://github.com/stephencookdev/speed-measure-webpack-plugin/issues/61",target:"_blank",rel:"noopener noreferrer"},Q=s("\u5728vue cli3\u4E2D\u4F7F\u7528smp"),X=o(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> SpeedMeasurePlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;speed-measure-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  config<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&#39;prefetch&#39;</span><span class="token punctuation">)</span>
  config
    <span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&#39;speed-measure-webpack-plugin&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>SpeedMeasurePlugin<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="hard-source-webpack-plugin-\u4E2D\u95F4\u7F13\u5B58" tabindex="-1"><a class="header-anchor" href="#hard-source-webpack-plugin-\u4E2D\u95F4\u7F13\u5B58" aria-hidden="true">#</a> hard-source-webpack-plugin \u4E2D\u95F4\u7F13\u5B58</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> HardSourceWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;hard-source-webpack-plugin&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugin</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HardSourceWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u7528\u6237\u4F53\u9A8C\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u7528\u6237\u4F53\u9A8C\u4F18\u5316" aria-hidden="true">#</a> \u7528\u6237\u4F53\u9A8C\u4F18\u5316</h2><h3 id="\u6A21\u5757\u61D2\u52A0\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u6A21\u5757\u61D2\u52A0\u8F7D" aria-hidden="true">#</a> \u6A21\u5757\u61D2\u52A0\u8F7D</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8DEF\u7531</span>
<span class="token comment">// src/router/index.js</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/login&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;login&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> login
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/home&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;home&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// \u61D2\u52A0\u8F7D</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;../views/home/home.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="gzip-\u6253\u5305-compression-webpack-plugin" tabindex="-1"><a class="header-anchor" href="#gzip-\u6253\u5305-compression-webpack-plugin" aria-hidden="true">#</a> gzip \u6253\u5305: compression-webpack-plugin</h3><blockquote><p>\u7528\u6CD5\uFF1A<code>https://www.npmjs.com/package/compression-webpack-plugin</code></p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> -D compression-webpack-plugin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// webpack.prod.js</span>
<span class="token keyword">const</span> CompressionPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;compression-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">algorithm</span><span class="token operator">:</span> <span class="token string">&#39;gzip&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">threshold</span><span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minRatio</span><span class="token operator">:</span> <span class="token number">0.8</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10);function Y(Z,nn){const e=l("router-link"),t=l("ExternalLinkIcon");return i(),r("div",null,[d,k,n("nav",v,[n("ul",null,[n("li",null,[a(e,{to:"#\u6784\u5EFA\u65F6\u95F4\u4F18\u5316"},{default:p(()=>[m]),_:1}),n("ul",null,[n("li",null,[a(e,{to:"#thread-loader"},{default:p(()=>[b]),_:1})]),n("li",null,[a(e,{to:"#cache-loader"},{default:p(()=>[g]),_:1})]),n("li",null,[a(e,{to:"#exclude-include"},{default:p(()=>[h]),_:1})]),n("li",null,[a(e,{to:"#\u6784\u5EFA\u533A\u5206\u73AF\u5883"},{default:p(()=>[y]),_:1})])])]),n("li",null,[a(e,{to:"#\u6253\u5305\u4F18\u5316"},{default:p(()=>[f]),_:1}),n("ul",null,[n("li",null,[a(e,{to:"#css-\u4EE3\u7801\u538B\u7F29"},{default:p(()=>[_]),_:1})]),n("li",null,[a(e,{to:"#\u591A\u7EBF\u7A0B\u538B\u7F29js-terser-webpack-plugin"},{default:p(()=>[w]),_:1})]),n("li",null,[a(e,{to:"#\u5206\u5272\u4EE3\u7801-splitchunks"},{default:p(()=>[x]),_:1})]),n("li",null,[a(e,{to:"#dllplugin"},{default:p(()=>[j]),_:1})]),n("li",null,[a(e,{to:"#cdn\u52A0\u901F"},{default:p(()=>[q]),_:1})]),n("li",null,[a(e,{to:"#console-\u5220\u9664"},{default:p(()=>[P]),_:1})]),n("li",null,[a(e,{to:"#\u56FE\u7247\u538B\u7F29"},{default:p(()=>[z]),_:1})])])]),n("li",null,[a(e,{to:"#\u7F16\u8BD1\u4F18\u5316"},{default:p(()=>[C]),_:1}),n("ul",null,[n("li",null,[a(e,{to:"#vue-cli3-webpack-\u9ED8\u8BA4\u914D\u7F6E"},{default:p(()=>[D]),_:1})]),n("li",null,[a(e,{to:"#sourcemap-\u6539\u52A8"},{default:p(()=>[S]),_:1})]),n("li",null,[a(e,{to:"#\u53EF\u7528-smp-\u5148\u5BF9-plugin-\u8DDF-loader-\u8FDB\u884C\u5206\u6790"},{default:p(()=>[E]),_:1})]),n("li",null,[a(e,{to:"#hard-source-webpack-plugin-\u4E2D\u95F4\u7F13\u5B58"},{default:p(()=>[N]),_:1})])])]),n("li",null,[a(e,{to:"#\u7528\u6237\u4F53\u9A8C\u4F18\u5316"},{default:p(()=>[I]),_:1}),n("ul",null,[n("li",null,[a(e,{to:"#\u6A21\u5757\u61D2\u52A0\u8F7D"},{default:p(()=>[R]),_:1})]),n("li",null,[a(e,{to:"#gzip-\u6253\u5305-compression-webpack-plugin"},{default:p(()=>[W]),_:1})])])])])]),M,n("blockquote",null,[T,n("p",null,[V,n("a",L,[O,a(t)])])]),A,n("p",null,[B,H,U,n("a",$,[G,a(t)])]),J,F,n("blockquote",null,[n("p",null,[n("a",K,[Q,a(t)])])]),X])}var an=c(u,[["render",Y],["__file","webpack.html.vue"]]);export{an as default};
